import{d as a,W as e,v as s,y as l,aE as t,o as i,b as o,w as u,e as n,g as c,t as d,D as f,k as r,l as m,F as v,f as p,r as g,a as _,j as x,q as b}from"./index.5b37717f.js";import{_ as h}from"./u-image.8c26ebe0.js";import{_ as y}from"./z-paging.ab3f2020.js";import{f as j,b as k}from"./store.4b8bba8f.js";import{G as w}from"./index.e86ff0a3.js";import{_ as z}from"./plugin-vue_export-helper.21dcd24c.js";import"./u-icon.14dc2ec9.js";import"./index.73a8a495.js";var C=z(a({__name:"index",setup(a){const z=e(),C=e({info:{},sons:[]}),V=e([]),I=s(),L=e(0);l((a=>{z.value=1*(null==a?void 0:a.id)||0,D()}));const q=a=>{z.value=a.id===z.value?C.value.info.id:a.id,I.value.reload()},D=async()=>{try{const a=await j({id:z.value});t({title:a.info.name}),C.value=a,C.value.sons.length&&(L.value=C.value.sons.findIndex((a=>a.id===z.value)))}catch(a){console.log(a)}},E=async(a,e)=>{try{const{lists:s}=await k({page_no:a,page_size:e,category_id:z.value});I.value.complete(s)}catch(s){console.log("报错=>",s),I.value.complete(!1)}};return(a,e)=>{const s=g(_("u-image"),h),l=x,t=b,j=g(_("z-paging"),y);return i(),o(l,{class:"container"},{default:u((()=>[C.value.sons.length?(i(),o(t,{key:0,class:"menu","scroll-x":"true","scroll-left":160*L.value},{default:u((()=>[n(l,{class:f(["menu--item",{active:z.value===C.value.info.id}]),onClick:e[0]||(e[0]=a=>q(C.value.info))},{default:u((()=>[n(l,{class:"flex justify-center"},{default:u((()=>[n(s,{src:"/mobile/assets/mb-like.69b36ef9.svg",width:"56",height:"56"})])),_:1}),n(l,{class:"black font-medium mt-[14rpx]"},{default:u((()=>[c(d("全部服务"))])),_:1})])),_:1},8,["class"]),(i(!0),r(v,null,m(C.value.sons,(a=>(i(),o(l,{key:a.id,class:f(["menu--item",{active:z.value===a.id}]),onClick:e=>q(a)},{default:u((()=>[n(l,{class:"flex justify-center"},{default:u((()=>[n(s,{src:a.image,width:"56",height:"56"},null,8,["src"])])),_:2},1024),n(l,{class:"black font-medium mt-[14rpx]"},{default:u((()=>[c(d(a.name),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1},8,["scroll-left"])):p("v-if",!0),n(l,{class:"main"},{default:u((()=>[n(j,{ref_key:"paging",ref:I,modelValue:V.value,"onUpdate:modelValue":e[1]||(e[1]=a=>V.value=a),onQuery:E,fixed:!1,height:"100%"},{default:u((()=>[n(l,{class:"px-[24rpx]"},{default:u((()=>[n(w,{goodsList:V.value},null,8,["goodsList"])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-6acb47f2"]]);export{C as default};
