import{d as e,u as t,c as a,r as s,a as l,o as r,b as n,w as o,e as i,f as c,g as d,t as u,h as m,n as f,i as _,j as p,I as g,k as y,l as h,F as x,S as b,m as v,p as k,q as w,s as j,v as C,x as I,y as z,$,z as A,A as O,B as U}from"./index.5b37717f.js";import{_ as V}from"./u-icon.14dc2ec9.js";import{_ as F}from"./plugin-vue_export-helper.21dcd24c.js";import{_ as L}from"./u-image.8c26ebe0.js";import{n as q}from"./util.920cc201.js";import{_ as B}from"./z-paging.ab3f2020.js";import{_ as G}from"./index.32cd47b4.js";import{_ as Q}from"./u-button.71edba3f.js";import{G as S}from"./index.e86ff0a3.js";import{a as D}from"./store.4b8bba8f.js";import"./u-badge.eadb0f30.js";import"./index.73a8a495.js";var E=F(e({__name:"search",setup(e){const y=t(),h=a((()=>y.cityInfo)),x=e=>{f({url:e})};return(e,t)=>{const a=_,f=s(l("u-icon"),V),y=p,b=g;return r(),n(y,{class:"bg-white navbar-bg"},{default:o((()=>[i(y,{class:"flex navbar"},{default:o((()=>[c(" 左侧城市 "),i(y,{class:"flex navbar--city",onClick:t[0]||(t[0]=e=>x("/bundle/pages/city/index"))},{default:o((()=>[i(a,{class:"mr-[15rpx]"},{default:o((()=>[d(u(m(h).name),1)])),_:1}),i(f,{name:"arrow-down",size:"20"})])),_:1}),c(" 右侧搜索城市 "),i(b,{type:"text",class:"flex-1 navbar--search",placeholder:"请输入关键词搜索",disabled:"",onClick:t[1]||(t[1]=e=>x("/bundle/pages/search/index"))})])),_:1})])),_:1})}}}),[["__scopeId","data-v-01a9c3bd"]]);const H=e({__name:"banner",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const{getImageUrl:a}=t();return(t,d)=>{const u=s(l("u-image"),L),f=b,_=v,g=p;return e.content.data.length&&e.content.enabled?(r(),n(g,{key:0,class:"banner h-[340rpx] bg-white translate-y-0"},{default:o((()=>[i(_,{class:"swiper h-full","indicator-dots":e.content.data.length>1,"indicator-active-color":"#4173ff",autoplay:!0},{default:o((()=>[(r(!0),y(x,null,h(e.content.data,((e,t)=>(r(),n(f,{key:t,onClick:t=>{return a=e.link,void q(a);var a}},{default:o((()=>[i(u,{mode:"aspectFit",width:"100%",height:"100%",src:m(a)(e.image)},null,8,["src"])])),_:2},1032,["onClick"])))),128))])),_:1},8,["indicator-dots"])])),_:1})):c("v-if",!0)}}}),J=e({__name:"nav",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const{getImageUrl:a}=t();return(t,_)=>{const g=s(l("u-image"),L),b=p;return e.content.data.length&&e.content.enabled?(r(),n(b,{key:0,class:"nav pt-[30rpx] pb-[16rpx] bg-white"},{default:o((()=>[i(b,{class:"nav-item flex flex-wrap"},{default:o((()=>[(r(!0),y(x,null,h(e.content.data,((e,t)=>(r(),n(b,{key:t,class:"flex flex-col items-center w-1/5 mb-[30rpx]",onClick:t=>{return a=e.link,console.log("link",a),void f({url:a.path});var a}},{default:o((()=>[i(g,{width:"41px",height:"41px",src:m(a)(e.image),alt:""},null,8,["src"]),i(b,{class:"mt-[14rpx]"},{default:o((()=>[d(u(e.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):c("v-if",!0)}}});var K=F(e({__name:"card",props:{title:{default:""}},setup:e=>(t,a)=>{const s=p,l=w;return r(),n(s,{class:"card"},{default:o((()=>[c(" 卡片头部 "),i(s,{class:"card--header flex justify-between"},{default:o((()=>[i(s,{class:"title"},{default:o((()=>[d(u(e.title),1)])),_:1}),k(t.$slots,"header-right",{},void 0,!0)])),_:3}),c(" 内容商品 "),i(l,{class:"scroll-view-box","scroll-x":"true"},{default:o((()=>[k(t.$slots,"default",{},void 0,!0)])),_:3})])),_:3})}}),[["__scopeId","data-v-2ab06bd0"]]);const M=e({__name:"category",props:{lists:{type:Array,default:[]}},setup:e=>(t,a)=>{const c=_,u=s(l("u-icon"),V),m=s(l("u-button"),Q),g=p;return r(!0),y(x,null,h(e.lists,((e,t)=>(r(),n(K,{key:e.id,title:e.name},{"header-right":o((()=>[i(g,null,{default:o((()=>[i(m,{type:"error",size:"mini",plain:!0,shape:"circle",class:"button",onClick:j((t=>{return a=`/bundle/pages/category_goods_list/index?id=${e.id}`,void f({url:a});var a}),["stop"])},{default:o((()=>[i(c,{class:"text-xs text-primary"},{default:o((()=>[d("更多")])),_:1}),i(u,{name:"arrow-right text-primary",size:"18"})])),_:2},1032,["onClick"])])),_:2},1024)])),default:o((()=>[i(S,{goodsList:e.goods,type:"row"},null,8,["goodsList"])])),_:2},1032,["title"])))),128)}});var N=F(e({__name:"hot-list",props:{lists:{type:Array,default:[]}},setup:e=>(t,a)=>{const c=s(l("u-image"),L),m=p,g=_;return r(),n(K,{title:"热门服务"},{default:o((()=>[(r(!0),y(x,null,h(e.lists,(e=>(r(),n(m,{key:e.id,class:"goods-item mr-[20rpx]",onClick:t=>{return a=`/pages/goods/index?id=${e.id}`,void f({url:a});var a}},{default:o((()=>[i(m,{class:"flex justify-center"},{default:o((()=>[i(c,{src:e.image,width:"200",height:"200"},null,8,["src"])])),_:2},1024),i(m,{class:"goods-item--text text-center"},{default:o((()=>[i(m,{class:"goods-title truncate mt-[20rpx] mb-[16rpx]"},{default:o((()=>[d(u(e.name),1)])),_:2},1024),i(m,{class:"truncate goods-desc"},{default:o((()=>[i(g,{space:"emsp",decode:"true"},{default:o((()=>[d(u(e.remarks||" "),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})}}),[["__scopeId","data-v-39068943"]]);var P=F(e({__name:"master-list",props:{lists:{type:Array,default:[]}},setup(e){const t=e=>{f({url:e})};return(a,c)=>{const m=_,f=s(l("u-icon"),V),g=s(l("u-button"),Q),b=p,v=s(l("u-image"),L);return r(),n(K,{title:"师傅推荐"},{"header-right":o((()=>[i(b,null,{default:o((()=>[i(g,{type:"error",size:"mini",plain:!0,shape:"circle",onClick:c[0]||(c[0]=e=>t("/bundle/pages/master_worker_list/index")),class:"button"},{default:o((()=>[i(m,{class:"text-xs text-primary"},{default:o((()=>[d("更多")])),_:1}),i(f,{name:"arrow-right text-primary",size:"18"})])),_:1})])),_:1})])),default:o((()=>[(r(!0),y(x,null,h(e.lists,(e=>(r(),n(b,{key:e.id,class:"master_worker_item mr-[20rpx]",onClick:j((a=>t(`/bundle/pages/master_worker_detail/index?id=${e.id}`)),["stop"])},{default:o((()=>[i(b,{class:"flex"},{default:o((()=>[i(v,{src:e.user_image,width:"100",height:"100","border-radius":"50"},null,8,["src"]),i(b,{class:"master_worker_item--text ml-[20rpx]"},{default:o((()=>[i(b,{class:"master_worker-title"},{default:o((()=>[d(u(e.name),1)])),_:2},1024),i(b,{class:"truncate master_worker-desc mt-[10rpx]"},{default:o((()=>[d("服务项目："+u(e.goods_name),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})}}}),[["__scopeId","data-v-27b9a808"]]);var R=F(e({__name:"index",setup(e){const a=t(),d=C(),u=I({decorate_age:[],hot_service:[],recommend_staff:[],recommend_goods_category:[]}),m=async()=>{try{const e=await D({city_id:a.cityInfo.city_id});console.log("data",e);for(const t in u)null!=e[t]&&null!=e[t]&&(u[t]=e[t]);d.value.complete([e])}catch(e){console.log(e),d.value.complete(!1)}};return z((()=>{$("refreshhome",(()=>{m()}))})),A((()=>{O("refreshhome")})),(e,t)=>{const a=s(l("w-search"),E),f=s(l("w-banner"),H),_=s(l("w-nav"),J),g=p,b=s(l("z-paging"),B);return r(),n(g,{class:"container"},{default:o((()=>[i(g,{class:"main"},{default:o((()=>[i(b,{ref_key:"paging",ref:d,modelValue:u,"onUpdate:modelValue":t[0]||(t[0]=e=>U(u)?u.value=e:null),onQuery:m,fixed:!1,height:"100%"},{default:o((()=>{var e,t;return[(r(!0),y(x,null,h(u.decorate_age,((e,t)=>(r(),n(g,{key:t},{default:o((()=>["search"==e.name?(r(),n(a,{key:0,content:e.content,styles:e.styles},null,8,["content","styles"])):c("v-if",!0),"banner"==e.name?(r(),n(f,{key:1,content:e.content,styles:e.styles},null,8,["content","styles"])):c("v-if",!0),"nav"==e.name?(r(),n(_,{key:2,content:e.content,styles:e.styles},null,8,["content","styles"])):c("v-if",!0)])),_:2},1024)))),128)),c(" 热门服务 "),(null==(e=u.hot_service)?void 0:e.length)?(r(),n(N,{key:0,lists:u.hot_service},null,8,["lists"])):c("v-if",!0),c(" 师傅推荐 "),(null==(t=u.recommend_staff)?void 0:t.length)?(r(),n(P,{key:1,lists:u.recommend_staff},null,8,["lists"])):c("v-if",!0),c(" 推荐分类 "),u.recommend_goods_category.length?(r(),n(M,{key:2,lists:u.recommend_goods_category},null,8,["lists"])):c("v-if",!0)]})),_:1},8,["modelValue"])])),_:1}),c(" 底部导航栏 "),i(G)])),_:1})}}}),[["__scopeId","data-v-bc7b9524"]]);export{R as default};
