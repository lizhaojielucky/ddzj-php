import{_ as Q}from"./index.9d07e45b.js";import{s as W,y as I,u as P,A as H,v as J,w as K,B as X,G as Y}from"./element-plus.62ab1451.js";import{d as T,e as Z,o as _,c as F,V as e,u as h,k as S,M as o,T as g,r as ee,_ as $,a as l,W as te,aa as oe,Q as le,L as z,S as ae,O as se,t as ue,b7 as ne,b6 as re,ar as de,a1 as ie,U as me}from"./@vue.3ddec1b2.js";import{_ as pe}from"./index.01b851d7.js";import{_ as ce}from"./picker.eb544855.js";import{_ as _e}from"./picker.f4c7e29a.js";import{f as A,b as fe,d as be}from"./index.7e7d93d0.js";import{a as xe,b as Ce}from"./index.1e1d0ba2.js";import{D as Fe}from"./vuedraggable.e8f60bfb.js";import"./@vueuse.b3730649.js";import"./lodash-es.32bc9704.js";import"./async-validator.fb49d0f5.js";import"./@element-plus.4237e19d.js";import"./dayjs.3f20994d.js";import"./axios.25713f9d.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./index.vue_vue_type_script_setup_true_lang.ec3e131a.js";import"./lists.0085008e.js";import"./usePaging.0e69bc9a.js";import"./category.5e9d6050.js";import"./index.7a0b9c3a.js";import"./index.86959ff9.js";import"./index.830c02a8.js";import"./vue3-video-play.6dd73449.js";import"./lodash.09c27007.js";import"./vue-router.70b81833.js";import"./pinia.4a4088b7.js";import"./css-color-function.6cac4cf2.js";import"./color.aa9d0e7b.js";import"./clone.467d5f2b.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./ms.564e106c.js";import"./nprogress.73f6d097.js";import"./vue-clipboard3.8191fcdc.js";import"./clipboard.e51d27f9.js";import"./echarts.db1d6bb4.js";import"./zrender.84752e5a.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.d7b1dc3a.js";import"./vue.bed21213.js";import"./sortablejs.95142d26.js";const ge={class:"color-picker flex flex-1"},ve=T({__name:"index",props:{modelValue:{type:String},defaultColor:{type:String}},emits:["update:modelValue"],setup(m,{emit:b}){const p=m,n=Z({get(){return p.modelValue},set(x){b("update:modelValue",x)}}),t=["#409EFF","#28C76F","#EA5455","#FF9F43","#01CFE8","#4A5DFF"],v=()=>{n.value=p.defaultColor};return(x,c)=>{const E=W,C=I,V=P;return _(),F("div",ge,[e(E,{modelValue:h(n),"onUpdate:modelValue":c[0]||(c[0]=a=>S(n)?n.value=a:null),predefine:t},null,8,["modelValue"]),e(C,{modelValue:h(n),"onUpdate:modelValue":c[1]||(c[1]=a=>S(n)?n.value=a:null),class:"mx-[10px] flex-1",type:"text",readonly:""},null,8,["modelValue"]),e(V,{type:"text",onClick:v},{default:o(()=>[g("\u91CD\u7F6E")]),_:1})])}}}),f=m=>(ne("data-v-0b3a22d5"),m=m(),re(),m),Ee={class:"decoration-tabbar min-w-[800px]"},Ve={class:"flex h-full items-start"},ye={class:"pages-preview mx-[30px]"},Ae={class:"tabbar flex"},he=["src"],De={class:"leading-3 text-[12px] mt-[4px]"},Be={class:"flex-1"},ke=f(()=>l("div",{class:"title flex items-center before:w-[3px] before:h-[14px] before:block before:bg-primary before:mr-2"},[g(" \u5E95\u90E8\u5BFC\u822A\u8BBE\u7F6E "),l("span",{class:"form-tips ml-[10px] !mt-0"}," \u81F3\u5C11\u6DFB\u52A02\u4E2A\u5BFC\u822A\uFF0C\u6700\u591A\u6DFB\u52A05\u4E2A\u5BFC\u822A ")],-1)),we={class:"mb-[18px]"},Ue={class:"bg-fill-light w-full p-4 mt-4"},Se={class:"upload-btn w-[60px] h-[60px]"},$e=f(()=>l("span",{class:"text-xs leading-5"}," \u672A\u9009\u4E2D ",-1)),ze={class:"upload-btn w-[60px] h-[60px]"},Ie=f(()=>l("span",{class:"text-xs leading-5"}," \u9009\u4E2D ",-1)),Pe=f(()=>l("div",{class:"form-tips block"}," \u5BFC\u822A\u6587\u672C\u672A\u9009\u4E2D\u65F6\u7684\u989C\u8272 ",-1)),Te=f(()=>l("div",{class:"form-tips block"}," \u5BFC\u822A\u6587\u672C\u9009\u4E2D\u65F6\u7684\u989C\u8272 ",-1)),Ne=T({__name:"tabbar",setup(m){const b=ee(),p=5,n=2,t=$({style:{defaultColor:"",selectedColor:""},list:[{name:"",selected:"",unselected:"",link:{}},{name:"",selected:"",unselected:"",link:{}}]}),v=$({defaultColor:[{message:"Please input Activity name",trigger:"change"}],selectedColor:[{message:"Please input Activity name",trigger:"change"}]}),x=()=>{var a;((a=t.list)==null?void 0:a.length)<p?t.list.push({name:"",selected:"",unselected:"",link:{}}):A.msgError(`\u6700\u591A\u6DFB\u52A0${p}\u4E2A`)},c=a=>{var u;if(((u=t.list)==null?void 0:u.length)<=n)return A.msgError(`\u6700\u5C11\u4FDD\u7559${n}\u4E2A`);t.list.splice(a,1)},E=a=>a.relatedContext.index!=0,C=async()=>{const a=await xe();t.list=a.list,t.style=a.style},V=async()=>{if(t.style.defaultColor==""||t.style.selectedColor==""){A.msgError("\u5E95\u90E8\u5BFC\u822A\u6587\u5B57\u989C\u8272\u4E0D\u80FD\u4E3A\u7A7A\uFF01");return}await Ce(ue(t)),C()};return C(),(a,u)=>{const D=fe,B=_e,d=H,N=I,R=ce,q=pe,k=P,w=J,U=ve,L=K,M=X,j=Y,G=Q,O=de("perms");return _(),F("div",Ee,[e(j,{shadow:"never",class:"!border-none flex-1","body-style":{height:"100%"}},{default:o(()=>[l("div",Ve,[l("div",ye,[l("div",Ae,[(_(!0),F(te,null,oe(t.list,(r,s)=>(_(),F("div",{class:"tabbar-item flex flex-col justify-center items-center flex-1",key:s,style:ie({color:t.style.defaultColor})},[l("img",{class:"w-[22px] h-[22px]",src:r.unselected,alt:""},null,8,he),l("div",De,me(r.name),1)],4))),128))])]),l("div",Be,[ke,e(M,{"label-width":"auto",rules:v,model:t,ref_key:"ruleFormRef",ref:b},{default:o(()=>[e(L,{"model-value":"content"},{default:o(()=>[e(w,{label:"\u5BFC\u822A\u56FE\u7247",name:"content"},{default:o(()=>{var r;return[l("div",we,[e(h(Fe),{class:"draggable",modelValue:t.list,"onUpdate:modelValue":u[0]||(u[0]=s=>t.list=s),animation:"300",draggable:".draggable",move:E},{item:o(({element:s,index:y})=>[e(q,{onClose:i=>c(y),class:le(["max-w-[400px]",{draggable:y!=0}])},{default:o(()=>[l("div",Ue,[e(d,{label:"\u5BFC\u822A\u56FE\u6807"},{default:o(()=>[e(B,{modelValue:s.unselected,"onUpdate:modelValue":i=>s.unselected=i,"upload-class":"bg-body",size:"60px"},{upload:o(()=>[l("div",Se,[e(D,{name:"el-icon-Plus",size:16}),$e])]),_:2},1032,["modelValue","onUpdate:modelValue"]),e(B,{modelValue:s.selected,"onUpdate:modelValue":i=>s.selected=i,"upload-class":"bg-body",size:"60px"},{upload:o(()=>[l("div",ze,[e(D,{name:"el-icon-Plus",size:16}),Ie])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{label:"\u5BFC\u822A\u540D\u79F0"},{default:o(()=>[e(N,{modelValue:s.name,"onUpdate:modelValue":i=>s.name=i,placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",maxlength:"4","show-word-limit":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{label:"\u94FE\u63A5\u5730\u5740"},{default:o(()=>[e(R,{modelValue:s.link,"onUpdate:modelValue":i=>s.link=i,disabled:y==0},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024)])]),_:2},1032,["onClose","class"])]),_:1},8,["modelValue"])]),((r=t.list)==null?void 0:r.length)<p?(_(),z(d,{key:0,"label-width":"0"},{default:o(()=>[e(k,{type:"primary",onClick:x},{default:o(()=>[g(" \u6DFB\u52A0\u5BFC\u822A ")]),_:1})]),_:1})):ae("",!0)]}),_:1}),e(w,{label:"\u6837\u5F0F\u8BBE\u7F6E",name:"styles"},{default:o(()=>[e(d,{label:"\u9ED8\u8BA4\u989C\u8272",required:""},{default:o(()=>[l("div",null,[e(d,{prop:"defaultColor"},{default:o(()=>[l("div",null,[e(U,{class:"max-w-[400px]",modelValue:t.style.defaultColor,"onUpdate:modelValue":u[1]||(u[1]=r=>t.style.defaultColor=r),"default-color":"#999"},null,8,["modelValue"]),Pe])]),_:1})])]),_:1}),e(d,{label:"\u9009\u4E2D\u989C\u8272",required:""},{default:o(()=>[l("div",null,[e(d,{prop:"selectedColor"},{default:o(()=>[l("div",null,[e(U,{class:"max-w-[400px]",modelValue:t.style.selectedColor,"onUpdate:modelValue":u[2]||(u[2]=r=>t.style.selectedColor=r),"default-color":"#EA5455"},null,8,["modelValue"]),Te])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])])])]),_:1}),se((_(),z(G,{class:"mt-4",fixed:!1},{default:o(()=>[e(k,{type:"primary",onClick:u[3]||(u[3]=r=>V(b.value))},{default:o(()=>[g("\u4FDD\u5B58")]),_:1})]),_:1})),[[O,["decorate.tabbar/save"]]])])}}});const $t=be(Ne,[["__scopeId","data-v-0b3a22d5"]]);export{$t as default};
