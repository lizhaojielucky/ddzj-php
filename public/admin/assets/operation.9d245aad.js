import{a as I,R as L,p as M,y as N,A as P,B as T,q as U,r as j,u as q}from"./element-plus.62ab1451.js";import{r as n,f as v,d as z}from"./index.7e7d93d0.js";import{P as w}from"./index.7a0b9c3a.js";import{d as G,r as H,o as a,c as B,V as t,M as r,O as d,L as i,T as o,S as f,a as C,U as J,ag as K,ar as Q}from"./@vue.3ddec1b2.js";function fe(e){return n.get({url:"/order.order/lists",params:e})}function _e(e){return n.get({url:"/order.order/detail",params:e})}function W(e){return n.post({url:"/order.order/cancel",params:e})}function X(e){return n.post({url:"/order.order/remark",params:e})}function Y(e){return n.get({url:"/order.order/remarkDetail",params:e})}function Z(e){return n.post({url:"/order.order/del",params:e})}function $(e){return n.post({url:"/order.order/verification",params:e})}function me(e){return n.get({url:"/order.order/staffLists",params:e})}function pe(e){return n.post({url:"/order.order/dispatchStaff",params:e})}const ee={key:0,class:"inline"},re={style:{height:"300px"},class:"mt-4"},te={key:1,class:"flex mt-3 inline"},ae=["disabled"],oe={style:{height:"300px"},class:"mt-4"},ne=G({__name:"operation",props:{id:{default:""},btnStyle:{default:"text"},cancel_btn:{default:0},del_btn:{default:0},verification_btn:{default:0},verification_status:{default:0}},emits:["refresh"],setup(e,{emit:_}){const s=e,u=H({order_remarks:""}),h=async()=>{await v.confirm("\u786E\u5B9A\u8981\u53D6\u6D88\u8BA2\u5355\u5417\uFF1F"),await W({id:s.id}),_("refresh")},b=async()=>{await v.confirm("\u786E\u8BA4\u8981\u6838\u9500\u8BA2\u5355\u5417\uFF1F"),await $({id:s.id}),_("refresh")},A=async()=>{await v.confirm("\u786E\u8BA4\u8981\u5220\u9664\u5417\uFF1F"),await Z({id:s.id}),_("refresh")},F=async()=>{await X({id:s.id,remark:u.value.order_remarks}),_("refresh")},g=async()=>{u.value=await Y({id:s.id})};return(le,m)=>{const O=K("arrow-down"),V=I,c=L,p=M,D=N,x=P,E=T,S=U,R=j,y=q,l=Q("perms");return e.btnStyle==="text"?(a(),B("div",ee,[t(R,null,{dropdown:r(()=>[t(S,null,{default:r(()=>[e.del_btn?d((a(),i(p,{key:0},{default:r(()=>[t(c,{type:"danger",underline:!1,onClick:A},{default:r(()=>[o("\u5220\u9664\u8BA2\u5355")]),_:1})]),_:1})),[[l,["order.order/del"]]]):f("",!0),e.cancel_btn?d((a(),i(p,{key:1},{default:r(()=>[t(c,{type:"primary",underline:!1,onClick:h},{default:r(()=>[o("\u53D6\u6D88\u8BA2\u5355")]),_:1})]),_:1})),[[l,["order.order/cancel"]]]):f("",!0),d((a(),i(p,null,{default:r(()=>[e.verification_btn?(a(),i(w,{key:0,class:"mr-2 inline",width:"450px",onConfirm:b},{trigger:r(()=>[t(c,{type:"primary",underline:!1},{default:r(()=>[o("\u6838\u9500\u8BA2\u5355")]),_:1})]),default:r(()=>[o(" \u786E\u8BA4\u8981\u6838\u9500\u8BA2\u5355\u5417\uFF1F ")]),_:1})):f("",!0)]),_:1})),[[l,["order.order/verification"]]]),d((a(),i(p,null,{default:r(()=>[t(w,{class:"mr-2 inline",width:"450px",center:!0,onConfirm:F,onOpen:g},{trigger:r(()=>[t(c,{type:"primary",underline:!1},{default:r(()=>[o("\u5546\u5BB6\u5907\u6CE8")]),_:1})]),default:r(()=>[C("div",re,[t(E,{ref:"orderFormRef",model:u.value,"label-width":"auto"},{default:r(()=>[t(x,{label:"\u5546\u5BB6\u5907\u6CE8:"},{default:r(()=>[t(D,{class:"ls-input",type:"textarea",modelValue:u.value.order_remarks,"onUpdate:modelValue":m[0]||(m[0]=k=>u.value.order_remarks=k),placeholder:"\u8BF7\u8F93\u5165",rows:10},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1})),[[l,["order.order/remark"]]])]),_:1})]),default:r(()=>[t(c,{class:"ml-2 mt-[5px]",type:"primary",underline:!1},{default:r(()=>[o(" \u66F4\u591A "),t(V,{class:"el-icon--right"},{default:r(()=>[t(O)]),_:1})]),_:1})]),_:1})])):(a(),B("div",te,[e.verification_btn?d((a(),B("div",{key:0,disabled:e.verification_status===1},[t(y,{type:"primary",onClick:b},{default:r(()=>[o(J(e.verification_status===0?"\u6838\u9500\u8BA2\u5355":"\u5DF2\u6838\u9500"),1)]),_:1})],8,ae)),[[l,["order.order/verification"]]]):f("",!0),e.cancel_btn?d((a(),i(y,{key:1,onClick:h,type:"danger",class:"mx-4"},{default:r(()=>[o("\u53D6\u6D88\u8BA2\u5355")]),_:1})),[[l,["order.order/cancel"]]]):f("",!0),d((a(),i(w,{class:"inline",width:"450px",center:!0,onConfirm:F,onOpen:g},{trigger:r(()=>[t(y,null,{default:r(()=>[o("\u5546\u5BB6\u5907\u6CE8")]),_:1})]),default:r(()=>[C("div",oe,[t(E,{ref:"orderFormRef",model:u.value,"label-width":"auto"},{default:r(()=>[t(x,{label:"\u5546\u5BB6\u5907\u6CE8:"},{default:r(()=>[t(D,{class:"ls-input",type:"textarea",modelValue:u.value.order_remarks,"onUpdate:modelValue":m[1]||(m[1]=k=>u.value.order_remarks=k),placeholder:"\u8BF7\u8F93\u5165",rows:10},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1})),[[l,["order.order/remark"]]])]))}}});const ue=z(ne,[["__scopeId","data-v-83fefcb1"]]),ye=Object.freeze(Object.defineProperty({__proto__:null,default:ue},Symbol.toStringTag,{value:"Module"}));export{ue as O,_e as a,me as b,pe as c,fe as d,ye as o};
