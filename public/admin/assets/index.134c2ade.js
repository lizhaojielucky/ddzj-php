import{y as Q,A as j,O as q,P as G,u as W,B as H,G as J,v as K,w as X,Q as Y,V as Z,_ as ee,R as te,S as oe,T as le,b as ae}from"./element-plus.62ab1451.js";import{O as ue,d as se}from"./operation.9d245aad.js";import{O as ne}from"./modeEnum.bffc6b2c.js";import{_ as re}from"./index.vue_vue_type_script_setup_true_lang.ec3e131a.js";import{_ as ie}from"./index.vue_vue_type_script_setup_true_lang.671a53c5.js";import{u as de}from"./usePaging.0e69bc9a.js";import{d as _e,_ as A,o as p,c as E,V as t,M as o,u as d,T as m,W as U,aa as T,a as u,O as pe,L as h,U as r,Q as me,S as O,k as ce,ag as fe,b7 as be,b6 as Fe}from"./@vue.3ddec1b2.js";import{d as Ee}from"./index.7e7d93d0.js";import"./@vueuse.b3730649.js";import"./lodash-es.32bc9704.js";import"./async-validator.fb49d0f5.js";import"./@element-plus.4237e19d.js";import"./dayjs.3f20994d.js";import"./axios.25713f9d.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./index.7a0b9c3a.js";import"./lodash.09c27007.js";import"./vue-router.70b81833.js";import"./pinia.4a4088b7.js";import"./css-color-function.6cac4cf2.js";import"./color.aa9d0e7b.js";import"./clone.467d5f2b.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./ms.564e106c.js";import"./nprogress.73f6d097.js";import"./vue-clipboard3.8191fcdc.js";import"./clipboard.e51d27f9.js";import"./echarts.db1d6bb4.js";import"./zrender.84752e5a.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.d7b1dc3a.js";const w=b=>(be("data-v-11b0278b"),b=b(),Fe(),b),he={class:"mt-4"},ve={class:"flex"},ge=w(()=>u("span",{class:"flex-none mr-2"},"\u5934\u50CF\uFF1A",-1)),we={class:"flex mt-2"},De=w(()=>u("span",{class:"flex-none mr-2"},"\u6635\u79F0\uFF1A",-1)),ye={class:"flex mt-2"},Ve=w(()=>u("span",{class:"flex-none mr-2"},"\u7F16\u53F7\uFF1A",-1)),xe={class:"pointer normal"},Be={class:"w-[60px] h-[60px]"},ke={class:"goods-name"},Ce={class:"form-tips"},Ae={class:"flex justify-end mt-4"},Ue=_e({__name:"index",setup(b){const S=A(ne),l=A({order_info:"",user_info:"",goods_info:"",pay_status:"",start_time:"",end_time:"",order_status:"",staff_info:"",is_dispatch:""}),{pager:c,getLists:D,resetPage:v,resetParams:I}=de({fetchFun:se,params:l});return D(),(Te,a)=>{const F=Q,_=j,f=q,y=G,V=W,L=H,x=J,P=K,$=X,i=Y,B=ae,g=fe("router-link"),N=Z,k=ee,R=te,M=oe,z=le;return p(),E("div",null,[t(x,{shadow:"never",class:"!border-none"},{default:o(()=>[t(L,{model:l,inline:""},{default:o(()=>[t(_,{label:"\u8BA2\u5355\u7F16\u53F7"},{default:o(()=>[t(F,{class:"ls-input",modelValue:l.order_info,"onUpdate:modelValue":a[0]||(a[0]=e=>l.order_info=e),placeholder:"\u8BF7\u8F93\u5165\u8BA2\u5355\u7F16\u53F7"},null,8,["modelValue"])]),_:1}),t(_,{label:"\u7528\u6237\u4FE1\u606F"},{default:o(()=>[t(F,{class:"ls-input",modelValue:l.user_info,"onUpdate:modelValue":a[1]||(a[1]=e=>l.user_info=e),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u4FE1\u606F"},null,8,["modelValue"])]),_:1}),t(_,{label:"\u670D\u52A1\u540D\u79F0"},{default:o(()=>[t(F,{class:"ls-input",modelValue:l.goods_info,"onUpdate:modelValue":a[2]||(a[2]=e=>l.goods_info=e),placeholder:"\u8BF7\u8F93\u5165\u670D\u52A1\u540D\u79F0"},null,8,["modelValue"])]),_:1}),t(_,{label:"\u670D\u52A1\u5E08\u5085"},{default:o(()=>[t(F,{class:"ls-input",modelValue:l.staff_info,"onUpdate:modelValue":a[3]||(a[3]=e=>l.staff_info=e),placeholder:"\u8BF7\u8F93\u5165\u5E08\u5085\u59D3\u540D"},null,8,["modelValue"])]),_:1}),t(_,{label:"\u652F\u4ED8\u72B6\u6001"},{default:o(()=>[t(y,{modelValue:l.pay_status,"onUpdate:modelValue":a[4]||(a[4]=e=>l.pay_status=e),placeholder:"\u8BF7\u9009\u62E9",class:"ls-input"},{default:o(()=>[t(f,{label:"\u5168\u90E8",value:""}),t(f,{label:"\u5F85\u652F\u4ED8",value:"0"}),t(f,{label:"\u5DF2\u652F\u4ED8",value:"1"})]),_:1},8,["modelValue"])]),_:1}),t(_,{label:"\u6D3E\u5355\u72B6\u6001"},{default:o(()=>[t(y,{modelValue:l.is_dispatch,"onUpdate:modelValue":a[5]||(a[5]=e=>l.is_dispatch=e),placeholder:"\u8BF7\u9009\u62E9",class:"ls-input"},{default:o(()=>[t(f,{label:"\u5168\u90E8",value:""}),t(f,{label:"\u672A\u6D3E\u5355",value:"0"}),t(f,{label:"\u5DF2\u6D3E\u5355",value:"1"})]),_:1},8,["modelValue"])]),_:1}),t(_,{label:"\u4E0B\u5355\u65F6\u95F4"},{default:o(()=>[t(ie,{class:"ls-input",style:{width:"280px"},start_time:l.start_time,"onUpdate:start_time":a[6]||(a[6]=e=>l.start_time=e),end_time:l.end_time,"onUpdate:end_time":a[7]||(a[7]=e=>l.end_time=e)},null,8,["start_time","end_time"])]),_:1}),t(_,null,{default:o(()=>[t(V,{type:"primary",onClick:d(v)},{default:o(()=>[m("\u67E5\u8BE2")]),_:1},8,["onClick"]),t(V,{onClick:d(I)},{default:o(()=>[m("\u91CD\u7F6E")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),t(x,{shadow:"never",class:"mt-4 !border-none"},{default:o(()=>[t($,{modelValue:l.order_status,"onUpdate:modelValue":a[8]||(a[8]=e=>l.order_status=e),onTabChange:d(v)},{default:o(()=>[(p(!0),E(U,null,T(d(c).extend,(e,s,n)=>(p(),h(P,{key:n,label:`${S[s]}(${e})`,name:n||""},null,8,["label","name"]))),128))]),_:1},8,["modelValue","onTabChange"]),u("div",he,[pe((p(),h(M,{ref:"tableData",size:"large",data:d(c).lists},{default:o(()=>[t(i,{property:"sn",label:"\u8BA2\u5355\u7F16\u53F7","min-width":"180"}),t(i,{property:"nickname",label:"\u7528\u6237\u4FE1\u606F","min-width":"100"},{default:o(e=>[t(N,{placement:"top-start",width:"200px",trigger:"hover"},{reference:o(()=>{var s;return[t(g,{to:`/user/detail?id=${(s=e.row.user)==null?void 0:s.id}}`},{default:o(()=>{var n;return[u("div",xe,r((n=e.row.user)==null?void 0:n.nickname),1)]}),_:2},1032,["to"])]}),default:o(()=>{var s,n,C;return[u("div",ve,[ge,t(B,{src:(s=e.row.user)==null?void 0:s.avatar,style:{width:"40px",height:"40px","border-radius":"50%"}},null,8,["src"])]),u("div",we,[De,u("span",null,r((n=e.row.user)==null?void 0:n.nickname),1)]),u("div",ye,[Ve,u("span",null,r((C=e.row.user)==null?void 0:C.sn),1)])]}),_:2},1024)]),_:1}),t(i,{label:"\u670D\u52A1\u540D\u79F0","min-width":"260"},{default:o(e=>[(p(!0),E(U,null,T(e.row.order_goods,(s,n)=>(p(),E("div",{class:"flex items-center goods-box",key:n},[u("div",Be,[t(B,{style:{width:"60px",height:"60px"},src:s.goods_image,"preview-src-list":[s.goods_image],"hide-on-click-modal":!0,"preview-teleported":!0,fit:"contain"},null,8,["src","preview-src-list"])]),t(g,{to:`/service/lists/edit?id=${s.goods_id}`,class:"ml-2 xs"},{default:o(()=>[u("div",ke,r(s.goods_name),1),u("div",Ce,r(s.goods_price)+" "+r(s.unit_name),1)]),_:2},1032,["to"])]))),128))]),_:1}),t(i,{property:"total_num",label:"\u6570\u91CF",width:"80"}),t(i,{property:"order_amount",label:"\u5B9E\u4ED8\u91D1\u989D","min-width":"100"},{default:o(e=>[m(" \xA5"+r(e.row.order_amount),1)]),_:1}),t(i,{property:"appoint_week",label:"\u9884\u7EA6\u65E5\u671F",width:"160"},{default:o(e=>[m(r(e.row.appoint_time)+" "+r(e.row.appoint_week)+" "+r(e.row.door_time),1)]),_:1}),t(i,{property:"contact",label:"\u8054\u7CFB\u4EBA",width:"100"}),t(i,{label:"\u8BA2\u5355\u72B6\u6001",width:"100",prop:"order_status_desc"},{default:o(({row:e})=>[u("span",{class:me({error:e.order_status_desc==="\u5F85\u652F\u4ED8"||e.order_status_desc==="\u5DF2\u5173\u95ED"})},r(e.order_status_desc),3)]),_:1}),t(i,{label:"\u6D3E\u5355\u72B6\u6001",width:"100",prop:"dispatch_desc"},{default:o(({row:e})=>[e.is_dispatch==1?(p(),h(k,{key:0,type:"success"},{default:o(()=>[m(" \u5DF2\u6D3E\u5355 ")]),_:1})):O("",!0),e.is_dispatch==0?(p(),h(k,{key:1,type:"danger"},{default:o(()=>[m(" \u672A\u6D3E\u5355 ")]),_:1})):O("",!0)]),_:1}),t(i,{property:"address",label:"\u64CD\u4F5C","min-width":"140",fixed:"right"},{default:o(e=>[t(g,{class:"mr-2",to:{path:"/order/detail",query:{id:e.row.id}}},{default:o(()=>[t(R,{type:"primary",underline:!1},{default:o(()=>[m("\u8BE6\u60C5")]),_:1})]),_:2},1032,["to"]),t(ue,{btnStyle:"text",id:e.row.id,cancel_btn:e.row.cancel_btn,del_btn:e.row.del_btn,verification_btn:e.row.verification_btn,onRefresh:d(v)},null,8,["id","cancel_btn","del_btn","verification_btn","onRefresh"])]),_:1})]),_:1},8,["data"])),[[z,d(c).loading]])]),u("div",Ae,[t(re,{modelValue:d(c),"onUpdate:modelValue":a[9]||(a[9]=e=>ce(c)?c.value=e:null),onChange:d(D)},null,8,["modelValue","onChange"])])]),_:1})])}}});const Ft=Ee(Ue,[["__scopeId","data-v-11b0278b"]]);export{Ft as default};
