import{H,G as Q,Q as R,_ as W,u as q,S as J,I as K,T as X}from"./element-plus.62ab1451.js";import{_ as Y}from"./index.vue_vue_type_script_setup_true_lang.ec3e131a.js";import{u as Z}from"./usePaging.0e69bc9a.js";import{i as uu,j as eu,k as tu}from"./system.35501bbd.js";import{d as lu,r as E,j as au,o as t,c as r,V as s,M as e,O as $,u as f,L as d,a as l,T as o,S as F,U as v,W as x,aa as b,k as su,b7 as ou,b6 as iu}from"./@vue.3ddec1b2.js";import{d as nu}from"./index.7e7d93d0.js";import"./@vueuse.b3730649.js";import"./lodash-es.32bc9704.js";import"./async-validator.fb49d0f5.js";import"./@element-plus.4237e19d.js";import"./dayjs.3f20994d.js";import"./axios.25713f9d.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./lodash.09c27007.js";import"./vue-router.70b81833.js";import"./pinia.4a4088b7.js";import"./css-color-function.6cac4cf2.js";import"./color.aa9d0e7b.js";import"./clone.467d5f2b.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./ms.564e106c.js";import"./nprogress.73f6d097.js";import"./vue-clipboard3.8191fcdc.js";import"./clipboard.e51d27f9.js";import"./echarts.db1d6bb4.js";import"./zrender.84752e5a.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.d7b1dc3a.js";const c=g=>(ou("data-v-53b41d71"),g=g(),iu(),g),ru={class:"system-update"},du=c(()=>l("div",{class:"iconSize"},"\u6E29\u99A8\u63D0\u793A\uFF1A",-1)),Fu=c(()=>l("div",{class:"iconSize flex"},[o(" 1.\u7248\u672C\u66F4\u65B0\u9700\u8981\u9010\u4E2A\u7248\u672C\u66F4\u65B0\uFF0C "),l("div",{class:"a-key"}," \u66F4\u65B0\u524D\u8BF7\u5907\u4EFD\u597D\u7CFB\u7EDF\u548C\u6570\u636E\u5E93\uFF0C\u66F4\u65B0\u6210\u529F\u540E\u9700\u8981\u5F3A\u5236\u5237\u65B0\u7AD9\u70B9\uFF1B ")],-1)),pu=c(()=>l("div",{class:"iconSize"},"2.\u7CFB\u7EDF\u6CA1\u6709\u505A\u4E8C\u6B21\u5F00\u53D1\uFF0C\u53EF\u4EE5\u76F4\u63A5\u9009\u62E9\u5728\u7EBF\u66F4\u65B0\u529F\u80FD\uFF1B",-1)),cu=c(()=>l("div",{class:"iconSize"}," 3.\u7CFB\u7EDF\u5DF2\u505A\u4E8C\u6B21\u5F00\u53D1\uFF0C\u8FDB\u884C\u4E86\u529F\u80FD\u4FEE\u6539\uFF0C\u8BF7\u8C28\u614E\u9009\u62E9\u5728\u7EBF\u66F4\u65B0\u529F\u80FD\uFF0C\u63A8\u8350\u4EE5\u66F4\u65B0\u5305\u7684\u5F62\u5F0F\u624B\u52A8\u66F4\u65B0\uFF1B ",-1)),mu={class:"ls-card mt-[16rpx]"},_u={class:"flex"},Bu={class:"m-l-5"},Eu={class:""},fu={class:"operation flex flex-wrap"},vu={class:"flex mt-4 justify-end"},Cu={style:{height:"200px","text-align":"center"},"element-loading-text":"\u5207\u52FF\u5173\u95ED\u7A97\u53E3\u6216\u5237\u65B0\u9875\u9762"},yu=c(()=>l("div",null,"\u7CFB\u7EDF\u66F4\u65B0\u4E2D\uFF0C\u66F4\u65B0\u5B8C\u6BD5\u540E\u4F1A\u81EA\u884C\u5237\u65B0\u9875\u9762",-1)),Du=[yu],gu={key:0,style:{height:"200px"}},ku=c(()=>l("div",{class:"",style:{"text-align":"center"}}," \u4E00\u952E\u66F4\u65B0\u5BFC\u81F4\u7684\u7CFB\u7EDF\u95EE\u9898\uFF0C\u6B22\u8FCE\u524D\u5F80\u793E\u533A\u53CD\u9988\uFF0C\u8BF7\u505A\u597D\u7CFB\u7EDF\u5907\u4EFD\uFF01 ",-1)),wu={class:"btn-div flex-col",style:{width:"160px",margin:"auto"}},hu={key:1,style:{height:"200px"}},xu=c(()=>l("div",{class:"",style:{"text-align":"center"}},[l("div",null,"\u4E8C\u6B21\u5F00\u53D1\u540E\u8BF7\u8C28\u614E\u4F7F\u7528\u4E00\u952E\u66F4\u65B0\u529F\u80FD\uFF01"),l("div",null,"\u4E8C\u6B21\u5F00\u53D1\u540E\u4E00\u952E\u66F4\u65B0\u5BFC\u81F4\u7684\u7CFB\u7EDF\u95EE\u9898\uFF0C\u5B98\u65B9\u65E0\u6CD5\u5904\u7406\uFF0C\u8BF7\u505A\u597D\u7CFB\u7EDF\u5907\u4EFD\uFF01")],-1)),bu={class:"btn-div flex-col",style:{width:"160px",margin:"auto"}},Au={style:{height:"200px"}},zu=c(()=>l("div",{class:"pb-4",style:{"text-align":"center"}},"\u7CFB\u7EDF\u662F\u5426\u8FDB\u884C\u4E8C\u6B21\u5F00\u53D1",-1)),Vu={class:"flex-col"},Su=lu({__name:"updata",setup(g){const C=E(!1),p=E(!1),k=E(!1),w=E(!0),U=E(0),A=E(0),{pager:m,getLists:z,resetParams:$u,resetPage:Uu}=Z({fetchFun:tu}),B=(y,a)=>{A.value&&clearTimeout(A.value),A.value=setTimeout(()=>{uu({id:y,update_type:a}).then(h=>{a==6?window.open(h.line,"_blank"):window.location.href=h.line})},500)},L=()=>{eu({id:U.value,update_type:1}).then(y=>{z()}).finally(()=>{k.value=!1,p.value=!1,C.value=!1})},N=y=>{C.value=!0,U.value=y},P=()=>{w.value=!1,p.value=!0},j=()=>{w.value=!0,p.value=!0},T=()=>{k.value=!0,L()};return au(()=>{z()}),(y,a)=>{const h=H,I=Q,D=R,M=W,i=q,O=J,G=Y,V=K,S=X;return t(),r("div",ru,[s(I,{class:"!border-none",shadow:"never"},{default:e(()=>[s(h,{class:"xxl",type:"warning",closable:!1,"show-icon":""},{title:e(()=>[du,Fu,pu,cu]),_:1})]),_:1}),$((t(),d(I,{class:"!border-none mt-4",shadow:"never"},{default:e(()=>[l("div",mu,[$((t(),d(O,{data:f(m).lists,style:{width:"100%"},size:"mini","header-cell-style":{background:"#f5f8ff"}},{default:e(()=>[s(D,{prop:"publish_time",label:"\u53D1\u5E03\u65E5\u671F"}),s(D,{label:"\u7248\u672C\u53F7"},{default:e(u=>[l("div",_u,[u.$index==0&&f(m).page==1?(t(),d(M,{key:0,size:"small",type:"success",effect:"plain",round:""},{default:e(()=>[o(" new")]),_:1})):F("",!0),l("div",Bu,v(u.row.version_no),1)]),l("div",Eu,v(u.row.version_str),1)]),_:1}),s(D,{prop:"",label:"\u7248\u672C\u5185\u5BB9"},{default:e(u=>[(t(!0),r(x,null,b(u.row.add,(n,_)=>(t(),r("div",{key:_},v(n),1))),128)),(t(!0),r(x,null,b(u.row.optimize,(n,_)=>(t(),r("div",{key:_},v(n),1))),128)),(t(!0),r(x,null,b(u.row.repair,(n,_)=>(t(),r("div",{key:_},v(n),1))),128))]),_:1}),s(D,{prop:"notice",label:"\u6CE8\u610F\u4E8B\u9879"},{default:e(u=>[(t(!0),r(x,null,b(u.row.notice,(n,_)=>(t(),r("div",{class:"",key:_},v(n),1))),128))]),_:1}),s(D,{label:"\u64CD\u4F5C","min-width":"200px"},{default:e(u=>[l("div",fu,[u.row.able_update==1?(t(),d(i,{key:0,class:"m-r-10",type:"primary",size:"small",onClick:n=>N(u.row.id)},{default:e(()=>[o("\u4E00\u952E\u66F4\u65B0 ")]),_:2},1032,["onClick"])):F("",!0),u.row.integral_package_link?(t(),d(i,{key:1,class:"m-r-10",type:"",size:"small",onClick:n=>B(u.row.id,6)},{default:e(()=>[o("\u4E0B\u8F7D\u5B8C\u6574\u5B89\u88C5\u5305 ")]),_:2},1032,["onClick"])):F("",!0),u.row.package_link?(t(),d(i,{key:2,class:"m-r-10",type:"",size:"small",onClick:n=>B(u.row.id,2)},{default:e(()=>[o("\u4E0B\u8F7D\u670D\u52A1\u7AEF\u66F4\u65B0\u5305")]),_:2},1032,["onClick"])):F("",!0),u.row.pc_package_link?(t(),d(i,{key:3,class:"m-r-10",type:"",size:"small",onClick:n=>B(u.row.id,3)},{default:e(()=>[o("\u4E0B\u8F7Dpc\u7AEF\u66F4\u65B0\u5305")]),_:2},1032,["onClick"])):F("",!0),u.row.uniapp_package_link?(t(),d(i,{key:4,class:"m-r-10",type:"",size:"small",onClick:n=>B(u.row.id,4)},{default:e(()=>[o("\u4E0B\u8F7Duniapp\u66F4\u65B0\u5305")]),_:2},1032,["onClick"])):F("",!0),u.row.web_package_link?(t(),d(i,{key:5,class:"",type:"",size:"small",onClick:n=>B(u.row.id,5)},{default:e(()=>[o(" \u4E0B\u8F7D\u540E\u53F0\u524D\u7AEF\u66F4\u65B0\u5305")]),_:2},1032,["onClick"])):F("",!0),u.row.kefu_package_link?(t(),d(i,{key:6,class:"",type:"",size:"small",onClick:n=>B(u.row.id,8)},{default:e(()=>[o(" \u4E0B\u8F7D\u5BA2\u670D\u66F4\u65B0\u5305")]),_:2},1032,["onClick"])):F("",!0)])]),_:1})]),_:1},8,["data"])),[[S,!1]])]),l("div",vu,[s(G,{modelValue:f(m),"onUpdate:modelValue":a[0]||(a[0]=u=>su(m)?m.value=u:null),onChange:f(z)},null,8,["modelValue","onChange"])])]),_:1})),[[S,f(m).loading]]),s(V,{class:"dialog",title:"",modelValue:C.value,"onUpdate:modelValue":a[7]||(a[7]=u=>C.value=u),width:"50%",center:""},{default:e(()=>[s(V,{class:"dialogTwo",width:"50%",modelValue:p.value,"onUpdate:modelValue":a[5]||(a[5]=u=>p.value=u),"append-to-body":"",center:""},{default:e(()=>[s(V,{class:"dialogThree",width:"50%",modelValue:k.value,"onUpdate:modelValue":a[1]||(a[1]=u=>k.value=u),"append-to-body":"",center:"","close-on-click-modal":!1,"close-on-press-escape":!1},{default:e(()=>[$((t(),r("div",Cu,Du)),[[S,f(m).loading]])]),_:1},8,["modelValue"]),w.value==!1?(t(),r("div",gu,[ku,l("div",wu,[s(i,{type:"primary",onClick:T,size:"small",style:{"margin-top":"15px","margin-left":"0"},class:"mr-3"},{default:e(()=>[o("\u786E\u5B9A\u66F4\u65B0")]),_:1}),s(i,{onClick:a[2]||(a[2]=u=>p.value=!1),size:"small",style:{"margin-top":"15px","margin-left":"0"}},{default:e(()=>[o(" \u53D6\u6D88\u66F4\u65B0")]),_:1})])])):F("",!0),w.value==!0?(t(),r("div",hu,[xu,l("div",bu,[s(i,{type:"primary",onClick:T,size:"small",style:{"margin-top":"15px","margin-left":"0"}},{default:e(()=>[o("\u786E\u5B9A\u66F4\u65B0")]),_:1}),s(i,{onClick:a[3]||(a[3]=u=>p.value=!1),size:"small",style:{"margin-top":"15px","margin-left":"0"}},{default:e(()=>[o(" \u4E0B\u8F7D\u66F4\u65B0\u5305\uFF0C\u624B\u52A8\u66F4\u65B0")]),_:1}),s(i,{onClick:a[4]||(a[4]=u=>p.value=!1),size:"small",style:{"margin-top":"15px","margin-left":"0"}},{default:e(()=>[o(" \u53D6\u6D88\u66F4\u65B0")]),_:1})])])):F("",!0)]),_:1},8,["modelValue"]),l("div",Au,[zu,l("div",Vu,[s(i,{type:"primary",onClick:P,size:"small"},{default:e(()=>[o("\u672A\u505A\u4E8C\u6B21\u5F00\u53D1\uFF0C\u76F4\u63A5\u66F4\u65B0")]),_:1}),s(i,{onClick:j,size:"small"},{default:e(()=>[o("\u5DF2\u505A\u4E8C\u6B21\u5F00\u53D1")]),_:1}),s(i,{onClick:a[6]||(a[6]=u=>C.value=!1),size:"small"},{default:e(()=>[o("\u53D6\u6D88\u66F4\u65B0")]),_:1})])])]),_:1},8,["modelValue"])])}}});const Be=nu(Su,[["__scopeId","data-v-53b41d71"]]);export{Be as default};
