import{_ as v}from"./index.9d07e45b.js";import{C as D,a3 as w,A as y,t as V,G as k,u as x,B as q}from"./element-plus.62ab1451.js";import{a as U,b as N}from"./user.26845dc8.js";import{d as S,r as G,_ as p,o as B,c as L,V as o,M as l,a as e,T as a,U as f,O as P,L as R,ar as T}from"./@vue.3ddec1b2.js";import"./index.7e7d93d0.js";import"./@vueuse.b3730649.js";import"./lodash.09c27007.js";import"./axios.25713f9d.js";import"./vue-router.70b81833.js";import"./pinia.4a4088b7.js";import"./css-color-function.6cac4cf2.js";import"./color.aa9d0e7b.js";import"./clone.467d5f2b.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./ms.564e106c.js";import"./@element-plus.4237e19d.js";import"./nprogress.73f6d097.js";import"./vue-clipboard3.8191fcdc.js";import"./clipboard.e51d27f9.js";import"./echarts.db1d6bb4.js";import"./zrender.84752e5a.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.d7b1dc3a.js";import"./lodash-es.32bc9704.js";import"./async-validator.fb49d0f5.js";import"./dayjs.3f20994d.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";const j={class:"login-register"},I=e("div",{class:"font-medium mb-7"},"\u901A\u7528\u8BBE\u7F6E",-1),M=e("div",{class:"form-tips"},"\u7CFB\u7EDF\u901A\u7528\u767B\u5F55\u65B9\u5F0F\uFF0C\u81F3\u5C11\u9009\u62E9\u4E00\u9879",-1),O={class:"mt-1 ml-2"},z=e("div",{class:"form-tips"},[a(" 1\u3001\u5982\u679C\u5F00\u542F\uFF0C\u5219\u65B0\u7528\u6237\u5728\u6CE8\u518C\u5B8C\u6210\u4E4B\u540E\u8981\u5F3A\u5236\u7ED1\u5B9A\u624B\u673A\u53F7"),e("br"),a(" 2\u3001\u8001\u7528\u6237\u767B\u5F55\u65F6\u5982\u679C\u68C0\u6D4B\u5230\u6CA1\u6709\u7ED1\u5B9A\u624B\u673A\uFF0C\u5219\u8981\u91CD\u65B0\u7ED1\u5B9A\u624B\u673A\u53F7 ")],-1),H=e("div",{class:"font-medium mb-7"},"\u7B2C\u4E09\u65B9\u8BBE\u7F6E",-1),J={class:"mt-1 ml-2"},K=e("div",{class:"form-tips"},"\u767B\u5F55\u65F6\u652F\u6301\u7B2C\u4E09\u65B9\u767B\u5F55\uFF0C\u65B0\u7528\u6237\u6388\u6743\u5373\u81EA\u52A8\u6CE8\u518C\u8D26\u53F7",-1),Q={href:"https://open.weixin.qq.com/",target:"_blank"},W=e("div",{class:"form-tips"},[a(" 1\u3001\u5728\u5404\u6E20\u9053\u4F7F\u7528\u5FAE\u4FE1\u6388\u6743\u767B\u5F55\u65F6\uFF0C\u5F3A\u70C8\u5EFA\u8BAE\u914D\u7F6E\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0"),e("br"),a(" 2\u3001\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0\u5173\u8054\u516C\u4F17\u53F7\u3001\u5C0F\u7A0B\u5E8F\u548CAPP\u540E\uFF0C\u53EF\u5B9E\u73B0\u5404\u7AEF\u7528\u6237\u8D26\u53F7\u7EDF\u4E00\uFF0C\u8BC6\u522B\u4E70\u5BB6\u552F\u4E00\u5FAE\u4FE1\u8EAB\u4EFD"),e("br"),a(" 3\u3001\u6CA1\u6709\u914D\u7F6E\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0\uFF0C\u540C\u4E00\u5FAE\u4FE1\u53F7\u4F1A\u751F\u6210\u591A\u4E2A\u7528\u6237\uFF0C\u914D\u7F6E\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0\u540E\u5DF2\u751F\u6210\u7684\u7528\u6237\u8D26\u53F7\u65E0\u6CD5\u5408\u5E76 ")],-1),qu=S({__name:"login_register",setup(X){const n=G(),u=p({login_way:[],coerce_mobile:0,third_auth:0,wechat_auth:0}),C=p({login_way:[{required:!0,validator:(r,t,s)=>{if(u.login_way.join("").length===0)s(new Error("\u767B\u5F55\u65B9\u5F0F\u81F3\u5C11\u9009\u62E9\u4E00\u9879\uFF01"));else{if(u.login_way!==""){if(!n.value)return;n.value.validateField("checkPass",()=>null)}s()}},trigger:"change"}],coerce_mobile:[{required:!0,trigger:"blur"}],third_auth:[{required:!0,trigger:"blur"}]}),m=async()=>{try{const r=await U();for(const t in u)u[t]=r[t]}catch(r){console.log("\u83B7\u53D6=>",r)}},h=async()=>{var r;u.login_way.map(Number),await((r=n.value)==null?void 0:r.validate());try{await N({...u}),m()}catch(t){console.log("\u4FDD\u5B58=>",t)}};return m(),(r,t)=>{const s=D,_=w,F=y,c=V,E=k,d=x,A=q,g=v,b=T("perms");return B(),L("div",j,[o(A,{ref_key:"formRef",ref:n,rules:C,model:u,"label-width":"120px"},{default:l(()=>[o(E,{shadow:"never",class:"!border-none"},{default:l(()=>[I,o(F,{label:"\u767B\u5F55\u65B9\u5F0F",prop:"login_way"},{default:l(()=>[e("div",null,[o(_,{modelValue:u.login_way,"onUpdate:modelValue":t[0]||(t[0]=i=>u.login_way=i)},{default:l(()=>[o(s,{label:"1"},{default:l(()=>[a("\u8D26\u53F7\u5BC6\u7801\u767B\u5F55")]),_:1}),o(s,{label:"2"},{default:l(()=>[a("\u624B\u673A\u9A8C\u8BC1\u7801\u767B\u5F55")]),_:1})]),_:1},8,["modelValue"]),M])]),_:1}),o(F,{label:"\u5F3A\u5236\u7ED1\u5B9A\u624B\u673A",prop:"coerce_mobile"},{default:l(()=>[e("div",null,[o(c,{modelValue:u.coerce_mobile,"onUpdate:modelValue":t[1]||(t[1]=i=>u.coerce_mobile=i),"active-value":1,"inactive-value":0},null,8,["modelValue"]),e("span",O,f(u.coerce_mobile?"\u5F00\u542F":"\u5173\u95ED"),1),z])]),_:1})]),_:1}),o(E,{shadow:"never",class:"!border-none mt-4"},{default:l(()=>[H,o(F,{label:"\u7B2C\u4E09\u65B9\u767B\u5F55",prop:"third_auth"},{default:l(()=>[e("div",null,[o(c,{modelValue:u.third_auth,"onUpdate:modelValue":t[2]||(t[2]=i=>u.third_auth=i),"active-value":1,"inactive-value":0},null,8,["modelValue"]),e("span",J,f(u.third_auth?"\u5F00\u542F":"\u5173\u95ED"),1),K,e("div",null,[o(s,{modelValue:u.wechat_auth,"onUpdate:modelValue":t[3]||(t[3]=i=>u.wechat_auth=i),label:"\u5FAE\u4FE1\u767B\u5F55","true-label":1,"false-label":0},null,8,["modelValue"])])])]),_:1}),o(F,{label:"\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0"},{default:l(()=>[e("div",null,[e("a",Q,[o(d,{type:"primary",link:"",class:"underline"},{default:l(()=>[a(" \u524D\u5F80\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0 ")]),_:1})]),W])]),_:1})]),_:1})]),_:1},8,["rules","model"]),P((B(),R(g,null,{default:l(()=>[o(d,{type:"primary",onClick:h},{default:l(()=>[a("\u4FDD\u5B58")]),_:1})]),_:1})),[[b,["setting.user.user/setRegisterConfig"]]])])}}});export{qu as default};
